//-
//- Copyright 2021 Mikhail Goncharov
//-
//- Licensed under the Apache License, Version 2.0 (the "License");
//- you may not use this file except in compliance with the License.
//- You may obtain a copy of the License at
//-
//-      https://www.apache.org/licenses/LICENSE-2.0
//-
//- Unless required by applicable law or agreed to in writing, software
//- distributed under the License is distributed on an "AS IS" BASIS,
//- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//- See the License for the specific language governing permissions and
//- limitations under the License.

extends layout

block content
  #game
    #control
      h1 Apex Legends Recoil Patterns
      p.description Learn and practice spray/recoil patterns
      #top-links
        p#show-instructions.action
          | Show instructions
        a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/faq.md" target="_blank")
          | FAQ
      #score
        div#show-detailed-stats.tooltip
          img(src="/outline_insert_chart_white_48dp.png"  alt="show graph")
          .tooltiptext.small Show historical graph
        div#stats
          p#score-stats
      #weapon-select.grid
        div.havoc_tc
          img(src="/images/havoc.png", alt="havoc")
          p.name HAVOC
        div.flatline
          img(src="/images/flatline.png", alt="flatline")
          p.name Flatline
        div.r301
          img(src="/images/r301.png", alt="r-301")
          p.name R-301
        div.alternator
            img(src="/images/alternator.png", alt="alternator")
            p.name Alternator
        div.prowler
          img(src="/images/prowler.png", alt="prowler")
          p.name Prowler
        div.r99
          img(src="/images/r99.png", alt="r-99")
          p.name R-99
        div.volt
          img(src="/images/volt.png", alt="volt")
          p.name Volt
        div.devotion_tc
          img(src="/images/devotion.png", alt="devotion")
          p.name Devotion
        div.lstar
          img(src="/images/lstar.png", alt="lstar")
          p.name L-STAR
        div.spitfire
          img(src="/images/spitfire.png", alt="spitfire")
          p.name Spitfire
        div.re45
          img(src="/images/re45.png", alt="re45")
          p.name RE-45
      #mag-select.grid
        div.mag-0
          img(src="/images/magi.png" alt="no magazine")
        div.mag-1
          img(src="/images/magi.png" alt="magazine level 1")
        div.mag-2
          img(src="/images/magi.png" alt="magazine level 2")
        div.mag-3
          img(src="/images/magi.png" alt="magazine level 3")
      #settings
          p
            input(type='text' id='sens')
            span.tooltip.underlined
              | Sensitivity
              span.tooltiptext
                | Example: for mouse sensitivity 3 and ADS multiplier 1.2 
                | set "sensitivity" to 3 * 1.2 = 3.6
          p
            input(type='checkbox' id='hint')
            | Show path
          p
            input(type='checkbox' id='pacer')
            | Show pacer
          p
            input(type='checkbox' id='toggle-modes')
            | Auto toggle hint
          #sound-control
            #toggle-mute
              img(src="/volume_up_white_24dp.svg"  alt="sound is not muted")#unmuted
              img(src="/volume_off_white_24dp.svg" alt="sound is muted")#muted.hidden
            input.slider#volume(type='range' min="0" max="100")
          div
            img(src="/speed_white_24dp.svg" alt="speed control")
            input.slider#speed(type='range' min="10" max="100" step="10")
            span#speed-value
      #controls-bottom
        #copyright
          div.links
            a(href="https://github.com/metaflow/apex-recoil" target="_blank")
              img(src="/GitHub-Mark-Light-32px.png", alt="github")
            a(href="https://www.reddit.com/r/apexlegends/comments/mosk0l/i_have_created_an_app_to_practice_recoils/" target="_blank")
              img(src="/reddit.png", alt="reddit")
            div.vertical
              a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/privacy-policy.md" target="_blank")
                | Privacy Policy
              a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/privacy-policy-de.md" target="_blank")
                | Datenschutzerklärung
              a(href="#cookies")
                | Cookie settings
          p
            | 2021 by Mikhail equanimity_rulez Goncharov.
          p
            | This app is not affiliated with or sponsored by Electronic Arts Inc. or its licensors. 
            | Game content and materials are trademarks and copyrights of 
            | #[a(href="https://ea.com" target="_blank") Electronic Arts Inc.]              
            | or #[a(href="https://www.respawn.com/" target="_blank") Respawn Entertainment]. 
            | Some images and reference materials come from 
            | #[a(href="https://apexlegends.fandom.com/wiki/" target="_blank") Apex Legends Wiki].
        #version
          p
            | version 0.7&nbsp;
            a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/release-notes.md#v08-l-star-patterns" target="_blank")
              | what's new
    #workspace
      #detailed-stats.hidden
        div Note that the Y-scale for the score is logarithmic as it's quite easy to improve from score 40 to 50 but much harder from 90 to 92.
        #plotly_area
        div
          p.action#hide-stats Dismiss graph
      #instructions.hidden
          h2 Instructions
          ul
            li #[a(href="https://www.google.com/search?q=turn+off+enhance+pointer+precision" target="_blank") Make sure that "Enhance pointer precision" is off].
            li Set the #[i sensitivity]&nbsp;
              .tooltip.underlined your preference
                .tooltiptext
                  | Example: for mouse sensitivity 3 and ADS multiplier 1.2 
                  | set "sensitivity" to 3 * 1.2 = 3.6
              | . 
              a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/faq.md#controller-support" target="_blank") Setup for controller.
            li Pick a weapon and magazine size.
            li Click anywhere on the area below.
            li Get a high score by compensating a recoil. Maximal score is 100.
          p #[i Show path] displays the ideal compensation trajectory.
          p #[i Show pacer] adds to the path a running dot to follow.
          p #[i Auto toggle hint] switches "show path" between sprays.
          p Set a slower #[i speed] if you like; stats are not recorded for slow-mode.
          p The #[i middle mouse button] toggles the display mode of a trace.
          p I recommend "Show path", "Show pacer" and "Auto toggle hint" enabled to learn the patterns.          
          p.action#dismiss-instructions Dismiss instructions
      #stage
  #mobile-info 
    h1 Apex Legends Recoil Patterns    
    p Hi! Thanks for checking out this little app to practice recoil patterns. It's meant to be used on the desktop browser with a mouse or controller. 
      | The screen width of your device must be greater than 900 pixels. 
      | Meanwhile, please check this 
      | #[a(href="https://www.reddit.com/r/apexlegends/comments/mosk0l/i_have_created_an_app_to_practice_recoils/") post on Reddit] 
      | and #[a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/faq.md") FAQ].
    br
    p Cheers!
    img(src="/trail.png", alt="trail")
    #copyright-mobile
      p
        a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/privacy-policy.md" target="_blank")
          | Privacy Policy
      p
        a(href="https://github.com/metaflow/apex-recoil/blob/main/docs/privacy-policy-de.md" target="_blank")
          | Datenschutzerklärung
      p
        a(href="#cookies")
          | Cookie settings
      p 2021 equanimity_rulez
      p This app is not affiliated with or sponsored by Electronic Arts Inc. or its licensors.